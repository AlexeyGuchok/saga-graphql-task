{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport axios from \"axios\";\nvar graphQLUrl = \"/graphql\";\n\nvar ProductsService = function ProductsService(url) {\n  var _this = this;\n\n  _classCallCheck(this, ProductsService);\n\n  _defineProperty(this, \"getProductsQuery\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _this.sender.post(\"\", {\n              query: \"{\\n            products {\\n              id\\n              model_name\\n              model_color\\n              model_category\\n              createdBy {\\n                id\\n              }\\n            }\\n          }\"\n            });\n\n          case 2:\n            data = _context.sent;\n            return _context.abrupt(\"return\", data.data);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })));\n\n  _defineProperty(this, \"deleteProductQuery\", /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this.sender[\"delete\"](\"\", {\n                params: {\n                  id: id\n                }\n              }, {\n                query: \"\\n    mutation($id: ID!) {\\n    deleteProduct(id: \".concat(id, \") {\\n      model_name\\n      model_category\\n      id\\n    }\\n  }\\n\")\n              });\n\n            case 2:\n              data = _context2.sent;\n              console.log(data); // return data.data;\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n\n  this.sender = axios.create({\n    baseURL: url,\n    withCredentials: true\n  });\n} //   registerByEmail = async ({ email, password }) => {\n//     const name = \"userCreateEmail\";\n//     const res = await this.sender.post(\"\", {\n//       query: `mutation {\n//         ${name} (email: \"${email}\", password: \"${password}\")\n//       }`,\n//     });\n//     return {\n//       email,\n//     };\n//   };\n//   loginByEmail = async ({ email, password }) => {\n//     const name = \"loginUserByEmail\";\n//     const res = await this.sender.post(\"\", {\n//       query: `{ ${name}(email: \"${email}\", password: \"${password}\") }`,\n//     });\n//     return {\n//       email,\n//     };\n//   };\n;\n\nexport default new ProductsService(graphQLUrl);","map":{"version":3,"sources":["C:/Users/lu4ok/Desktop/Practice/DZ/nextjs-app/services/products.js"],"names":["axios","graphQLUrl","ProductsService","url","sender","post","query","data","id","params","console","log","create","baseURL","withCredentials"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,UAAU,GAAG,UAAnB;;IAEMC,e,GACJ,yBAAYC,GAAZ,EAAiB;AAAA;;AAAA;;AAAA,kHAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE,KAAI,CAACC,MAAL,CAAYC,IAAZ,CAAiB,EAAjB,EAAqB;AACtCC,cAAAA,KAAK;AADiC,aAArB,CADF;;AAAA;AACXC,YAAAA,IADW;AAAA,6CAcVA,IAAI,CAACA,IAdK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAPF;;AAAA;AAAA,yEAwBI,kBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAI,CAACJ,MAAL,WACjB,EADiB,EAEjB;AAACK,gBAAAA,MAAM,EAAE;AAAED,kBAAAA,EAAE,EAAFA;AAAF;AAAT,eAFiB,EAGjB;AACEF,gBAAAA,KAAK,8DAEWE,EAFX;AADP,eAHiB,CADA;;AAAA;AACbD,cAAAA,IADa;AAgBnBG,cAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAhBmB,CAiBnB;;AAjBmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAxBJ;;AAAA;AAAA;AAAA;AAAA;;AACf,OAAKH,MAAL,GAAcJ,KAAK,CAACY,MAAN,CAAa;AACzBC,IAAAA,OAAO,EAAEV,GADgB;AAEzBW,IAAAA,eAAe,EAAE;AAFQ,GAAb,CAAd;AAID,C,CAuCD;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAGF,eAAe,IAAIZ,eAAJ,CAAoBD,UAApB,CAAf","sourcesContent":["import axios from \"axios\";\r\nconst graphQLUrl = \"/graphql\";\r\n\r\nclass ProductsService {\r\n  constructor(url) {\r\n    this.sender = axios.create({\r\n      baseURL: url,\r\n      withCredentials: true,\r\n    });\r\n  }\r\n\r\n  getProductsQuery = async () => {\r\n    const data = await this.sender.post(\"\", {\r\n      query: `{\r\n            products {\r\n              id\r\n              model_name\r\n              model_color\r\n              model_category\r\n              createdBy {\r\n                id\r\n              }\r\n            }\r\n          }`,\r\n    });\r\n    return data.data;\r\n  };\r\n\r\n  deleteProductQuery = async (id) => {\r\n    const data = await this.sender.delete(\r\n      \"\",\r\n      {params: { id }},\r\n      {\r\n        query: `\r\n    mutation($id: ID!) {\r\n    deleteProduct(id: ${id}) {\r\n      model_name\r\n      model_category\r\n      id\r\n    }\r\n  }\r\n`,\r\n      }\r\n    );\r\n    console.log(data);\r\n    // return data.data;\r\n  };\r\n\r\n  //   registerByEmail = async ({ email, password }) => {\r\n  //     const name = \"userCreateEmail\";\r\n  //     const res = await this.sender.post(\"\", {\r\n  //       query: `mutation {\r\n  //         ${name} (email: \"${email}\", password: \"${password}\")\r\n  //       }`,\r\n  //     });\r\n\r\n  //     return {\r\n  //       email,\r\n  //     };\r\n  //   };\r\n\r\n  //   loginByEmail = async ({ email, password }) => {\r\n  //     const name = \"loginUserByEmail\";\r\n\r\n  //     const res = await this.sender.post(\"\", {\r\n  //       query: `{ ${name}(email: \"${email}\", password: \"${password}\") }`,\r\n  //     });\r\n\r\n  //     return {\r\n  //       email,\r\n  //     };\r\n  //   };\r\n}\r\n\r\nexport default new ProductsService(graphQLUrl);\r\n"]},"metadata":{},"sourceType":"module"}