{"ast":null,"code":"import ProductsService from \"../../services/products\";\nimport { call, put, takeEvery, select, all, take, takeLatest } from \"redux-saga/effects\";\nimport actionTypes from \"../constants\";\nimport { productsFetchSuccess, productsFetchError } from \"../actions/products\";\n\nfunction* getProducts(action) {\n  try {\n    const data = yield call(ProductsService.getProductsQuery);\n    console.log(data);\n    yield put(productsFetchSuccess(data.products));\n  } catch (error) {\n    yield put(productsFetchError(error));\n    console.log(error);\n  }\n}\n\nexport function* saga() {\n  yield all([takeLatest(actionTypes.PRODUCTS_FETCH_START, getProducts)]);\n}","map":{"version":3,"sources":["C:/Users/lu4ok/Desktop/Practice/DZ/nextjs-app/redux/sagas/products.js"],"names":["ProductsService","call","put","takeEvery","select","all","take","takeLatest","actionTypes","productsFetchSuccess","productsFetchError","getProducts","action","data","getProductsQuery","console","log","products","error","saga","PRODUCTS_FETCH_START"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,yBAA5B;AACA,SACEC,IADF,EAEEC,GAFF,EAGEC,SAHF,EAIEC,MAJF,EAKEC,GALF,EAMEC,IANF,EAOEC,UAPF,QAQO,oBARP;AASA,OAAOC,WAAP,MAAwB,cAAxB;AACA,SAASC,oBAAT,EAA+BC,kBAA/B,QAAyD,qBAAzD;;AAEA,UAAUC,WAAV,CAAsBC,MAAtB,EAA8B;AAC5B,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMZ,IAAI,CAACD,eAAe,CAACc,gBAAjB,CAAvB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,UAAMX,GAAG,CAACO,oBAAoB,CAACI,IAAI,CAACI,QAAN,CAArB,CAAT;AACD,GAJD,CAIE,OAAOC,KAAP,EAAc;AACd,UAAMhB,GAAG,CAACQ,kBAAkB,CAACQ,KAAD,CAAnB,CAAT;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD;AACF;;AAED,OAAO,UAAUC,IAAV,GAAiB;AACtB,QAAMd,GAAG,CAAC,CAACE,UAAU,CAACC,WAAW,CAACY,oBAAb,EAAmCT,WAAnC,CAAX,CAAD,CAAT;AACD","sourcesContent":["import ProductsService from \"../../services/products\";\r\nimport {\r\n  call,\r\n  put,\r\n  takeEvery,\r\n  select,\r\n  all,\r\n  take,\r\n  takeLatest,\r\n} from \"redux-saga/effects\";\r\nimport actionTypes from \"../constants\";\r\nimport { productsFetchSuccess, productsFetchError } from \"../actions/products\";\r\n\r\nfunction* getProducts(action) {\r\n  try {\r\n    const data = yield call(ProductsService.getProductsQuery);\r\n    console.log(data);\r\n    yield put(productsFetchSuccess(data.products));\r\n  } catch (error) {\r\n    yield put(productsFetchError(error));\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport function* saga() {\r\n  yield all([takeLatest(actionTypes.PRODUCTS_FETCH_START, getProducts)]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}