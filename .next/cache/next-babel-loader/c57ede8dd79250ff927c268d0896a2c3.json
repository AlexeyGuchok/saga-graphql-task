{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport axios from \"axios\";\nvar graphQLUrl = \"/graphql\";\n\nvar ProductsService = function ProductsService(url) {\n  var _this = this;\n\n  _classCallCheck(this, ProductsService);\n\n  _defineProperty(this, \"getProductsQuery\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _this.sender.post(\"\", {\n              query: \"{\\n            products {\\n              id\\n              model_name\\n              model_color\\n              model_category\\n              createdBy {\\n                id\\n                name\\n                age\\n              }\\n            }\\n          }\"\n            });\n\n          case 2:\n            data = _context.sent;\n            return _context.abrupt(\"return\", data.data);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })));\n\n  _defineProperty(this, \"deleteProductQuery\", /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      var name, data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              name = \"deleteProduct\";\n              _context2.next = 3;\n              return _this.sender.post(\"\", {\n                query: \"\\n        mutation {\\n          \".concat(name, \"(id: \").concat(id, \") {\\n            id\\n          }\\n      }\\n    \")\n              });\n\n            case 3:\n              data = _context2.sent;\n              return _context2.abrupt(\"return\", data);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n\n  _defineProperty(this, \"addProductQuery\", /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(userData) {\n      var name, data;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              name = \"addProduct\";\n              _context3.next = 3;\n              return _this.sender.post(\"\", {\n                query: \"\\n        mutation {\\n          \".concat(name, \"(\\n            name: \\\"\").concat(userData.name, \"\\\",\\n            category: \\\"\").concat(userData.category, \"\\\",\\n            color: \\\"\").concat(userData.color, \"\\\",\\n            createdBy: \\\"\").concat(userData.createdBy, \"\\\",\\n            ) {\\n            id\\n             model_name\\n             model_category\\n             model_color\\n             createdBy {\\n               id\\n               age\\n               name\\n             }\\n            }\\n      }\\n    \")\n              });\n\n            case 3:\n              data = _context3.sent;\n              return _context3.abrupt(\"return\", data);\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n\n  _defineProperty(this, \"updatePoductQuery\", /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(userData) {\n      var name, data;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              name = \"updateProduct\";\n              console.log(userData);\n              _context4.next = 4;\n              return _this.sender.post(\"\", {\n                query: \"\\n         mutation(\\n          \".concat(name, \"\\n  ) {\\n    updateProduct(\\n      id: \\\"\").concat(userData.id, \"\\\",\\n      name: \\\"\").concat(userData.name, \"\\\",\\n      category: \\\"\").concat(userData.category, \"\\\",\\n      color: \\\"\").concat(userData.color, \"\\\"\\n      createdBy: \\\"\").concat(userData.createdBy, \"\\\",\\n    ) {\\n      model_name\\n      model_category\\n      model_color\\n      id\\n      createdBy{\\n        id\\n      }\\n    }\\n  }\\n    \")\n              });\n\n            case 4:\n              data = _context4.sent;\n              return _context4.abrupt(\"return\", data);\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n\n  this.sender = axios.create({\n    baseURL: url,\n    withCredentials: true\n  });\n};\n\nexport default new ProductsService(graphQLUrl);","map":{"version":3,"sources":["C:/Users/lu4ok/Desktop/Practice/DZ/nextjs-app/services/products.js"],"names":["axios","graphQLUrl","ProductsService","url","sender","post","query","data","id","name","userData","category","color","createdBy","console","log","create","baseURL","withCredentials"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,UAAU,GAAG,UAAnB;;IAEMC,e,GACJ,yBAAYC,GAAZ,EAAiB;AAAA;;AAAA;;AAAA,kHAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE,KAAI,CAACC,MAAL,CAAYC,IAAZ,CAAiB,EAAjB,EAAqB;AACtCC,cAAAA,KAAK;AADiC,aAArB,CADF;;AAAA;AACXC,YAAAA,IADW;AAAA,6CAgBVA,IAAI,CAACA,IAhBK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAPF;;AAAA;AAAA,yEA0BI,kBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACbC,cAAAA,IADa,GACN,eADM;AAAA;AAAA,qBAEA,KAAI,CAACL,MAAL,CAAYC,IAAZ,CAAiB,EAAjB,EAAqB;AACtCC,gBAAAA,KAAK,4CAECG,IAFD,kBAEaD,EAFb;AADiC,eAArB,CAFA;;AAAA;AAEbD,cAAAA,IAFa;AAAA,gDAWZA,IAXY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA1BJ;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,yEAwCC,kBAAOG,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACVD,cAAAA,IADU,GACH,YADG;AAAA;AAAA,qBAEG,KAAI,CAACL,MAAL,CAAYC,IAAZ,CAAiB,EAAjB,EAAqB;AACtCC,gBAAAA,KAAK,4CAECG,IAFD,oCAGUC,QAAQ,CAACD,IAHnB,0CAIcC,QAAQ,CAACC,QAJvB,uCAKWD,QAAQ,CAACE,KALpB,2CAMeF,QAAQ,CAACG,SANxB;AADiC,eAArB,CAFH;;AAAA;AAEVN,cAAAA,IAFU;AAAA,gDAwBTA,IAxBS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAxCD;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,yEAmEG,kBAAOG,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACZD,cAAAA,IADY,GACL,eADK;AAElBK,cAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AAFkB;AAAA,qBAGC,KAAI,CAACN,MAAL,CAAYC,IAAZ,CAAiB,EAAjB,EAAqB;AACtCC,gBAAAA,KAAK,4CAECG,IAFD,sDAKEC,QAAQ,CAACF,EALX,gCAMIE,QAAQ,CAACD,IANb,oCAOQC,QAAQ,CAACC,QAPjB,iCAQKD,QAAQ,CAACE,KARd,oCASSF,QAAQ,CAACG,SATlB;AADiC,eAArB,CAHD;;AAAA;AAGZN,cAAAA,IAHY;AAAA,gDA0BXA,IA1BW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAnEH;;AAAA;AAAA;AAAA;AAAA;;AACf,OAAKH,MAAL,GAAcJ,KAAK,CAACgB,MAAN,CAAa;AACzBC,IAAAA,OAAO,EAAEd,GADgB;AAEzBe,IAAAA,eAAe,EAAE;AAFQ,GAAb,CAAd;AAID,C;;AA4FH,eAAe,IAAIhB,eAAJ,CAAoBD,UAApB,CAAf","sourcesContent":["import axios from \"axios\";\r\nconst graphQLUrl = \"/graphql\";\r\n\r\nclass ProductsService {\r\n  constructor(url) {\r\n    this.sender = axios.create({\r\n      baseURL: url,\r\n      withCredentials: true,\r\n    });\r\n  }\r\n\r\n  getProductsQuery = async () => {\r\n    const data = await this.sender.post(\"\", {\r\n      query: `{\r\n            products {\r\n              id\r\n              model_name\r\n              model_color\r\n              model_category\r\n              createdBy {\r\n                id\r\n                name\r\n                age\r\n              }\r\n            }\r\n          }`,\r\n    });\r\n    return data.data;\r\n  };\r\n\r\n  deleteProductQuery = async (id) => {\r\n    const name = \"deleteProduct\";\r\n    const data = await this.sender.post(\"\", {\r\n      query: `\r\n        mutation {\r\n          ${name}(id: ${id}) {\r\n            id\r\n          }\r\n      }\r\n    `,\r\n    });\r\n    return data;\r\n  };\r\n\r\n  addProductQuery = async (userData) => {\r\n    const name = \"addProduct\";\r\n    const data = await this.sender.post(\"\", {\r\n      query: `\r\n        mutation {\r\n          ${name}(\r\n            name: \"${userData.name}\",\r\n            category: \"${userData.category}\",\r\n            color: \"${userData.color}\",\r\n            createdBy: \"${userData.createdBy}\",\r\n            ) {\r\n            id\r\n             model_name\r\n             model_category\r\n             model_color\r\n             createdBy {\r\n               id\r\n               age\r\n               name\r\n             }\r\n            }\r\n      }\r\n    `,\r\n    });\r\n    return data;\r\n  };\r\n\r\n  updatePoductQuery = async (userData) => {\r\n    const name = \"updateProduct\";\r\n    console.log(userData);\r\n    const data = await this.sender.post(\"\", {\r\n      query: `\r\n         mutation(\r\n          ${name}\r\n  ) {\r\n    updateProduct(\r\n      id: \"${userData.id}\",\r\n      name: \"${userData.name}\",\r\n      category: \"${userData.category}\",\r\n      color: \"${userData.color}\"\r\n      createdBy: \"${userData.createdBy}\",\r\n    ) {\r\n      model_name\r\n      model_category\r\n      model_color\r\n      id\r\n      createdBy{\r\n        id\r\n      }\r\n    }\r\n  }\r\n    `,\r\n    });\r\n    return data;\r\n  };\r\n}\r\n\r\nexport default new ProductsService(graphQLUrl);\r\n"]},"metadata":{},"sourceType":"module"}