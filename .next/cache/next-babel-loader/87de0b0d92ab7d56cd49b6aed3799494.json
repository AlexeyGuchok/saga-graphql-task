{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(getProducts),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(saga);\n\nimport ProductsService from \"../../services/products\";\nimport { call, put, takeEvery, select, all, take, takeLatest } from \"redux-saga/effects\";\nimport actionTypes from \"../constants\";\nimport { productsFetchSuccess, productsFetchError } from \"../actions/products\";\n\nfunction getProducts(action) {\n  var id, data;\n  return _regeneratorRuntime.wrap(function getProducts$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          id = action.payload.id;\n          _context.prev = 1;\n          _context.next = 4;\n          return call(ProductsService.getProductsQuery);\n\n        case 4:\n          data = _context.sent;\n          _context.next = 7;\n          return put(productsFetchSuccess({\n            products: data.data.products\n          }));\n\n        case 7:\n          _context.next = 14;\n          break;\n\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](1);\n          _context.next = 13;\n          return put(productsFetchError(_context.t0));\n\n        case 13:\n          console.log(_context.t0);\n\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[1, 9]]);\n}\n\nexport function saga() {\n  return _regeneratorRuntime.wrap(function saga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return all([takeLatest(actionTypes.PRODUCTS_FETCH_START, getProducts)]);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}","map":{"version":3,"sources":["C:/Users/lu4ok/Desktop/Practice/DZ/nextjs-app/redux/sagas/products.js"],"names":["getProducts","saga","ProductsService","call","put","takeEvery","select","all","take","takeLatest","actionTypes","productsFetchSuccess","productsFetchError","action","id","payload","getProductsQuery","data","products","console","log","PRODUCTS_FETCH_START"],"mappings":";;oDAaUA,W;qDAWOC,I;;AAxBjB,OAAOC,eAAP,MAA4B,yBAA5B;AACA,SACEC,IADF,EAEEC,GAFF,EAGEC,SAHF,EAIEC,MAJF,EAKEC,GALF,EAMEC,IANF,EAOEC,UAPF,QAQO,oBARP;AASA,OAAOC,WAAP,MAAwB,cAAxB;AACA,SAASC,oBAAT,EAA+BC,kBAA/B,QAAyD,qBAAzD;;AAEA,SAAUZ,WAAV,CAAsBa,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,UAAAA,EADR,GACaD,MAAM,CAACE,OAAP,CAAeD,EAD5B;AAAA;AAAA;AAGiB,iBAAMX,IAAI,CAACD,eAAe,CAACc,gBAAjB,CAAV;;AAHjB;AAGUC,UAAAA,IAHV;AAAA;AAII,iBAAMb,GAAG,CAACO,oBAAoB,CAAC;AAAEO,YAAAA,QAAQ,EAAED,IAAI,CAACA,IAAL,CAAUC;AAAtB,WAAD,CAArB,CAAT;;AAJJ;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAMI,iBAAMd,GAAG,CAACQ,kBAAkB,aAAnB,CAAT;;AANJ;AAOIO,UAAAA,OAAO,CAACC,GAAR;;AAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWA,OAAO,SAAUnB,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACL,iBAAMM,GAAG,CAAC,CAACE,UAAU,CAACC,WAAW,CAACW,oBAAb,EAAmCrB,WAAnC,CAAX,CAAD,CAAT;;AADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import ProductsService from \"../../services/products\";\r\nimport {\r\n  call,\r\n  put,\r\n  takeEvery,\r\n  select,\r\n  all,\r\n  take,\r\n  takeLatest,\r\n} from \"redux-saga/effects\";\r\nimport actionTypes from \"../constants\";\r\nimport { productsFetchSuccess, productsFetchError } from \"../actions/products\";\r\n\r\nfunction* getProducts(action) {\r\n  const id = action.payload.id;\r\n  try {\r\n    const data = yield call(ProductsService.getProductsQuery, );\r\n    yield put(productsFetchSuccess({ products: data.data.products }));\r\n  } catch (error) {\r\n    yield put(productsFetchError(error));\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport function* saga() {\r\n  yield all([takeLatest(actionTypes.PRODUCTS_FETCH_START, getProducts)]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}