{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(getProducts),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(saga),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(deleteOneProduct),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(deleteOne),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(addProduct),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(addNewProduct),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(updateProduct),\n    _marked8 = /*#__PURE__*/_regeneratorRuntime.mark(updateOneProduct);\n\nimport ProductsService from \"../../services/products\";\nimport { call, put, takeEvery, select, all, take, takeLatest } from \"redux-saga/effects\";\nimport actionTypes from \"../constants\";\nimport { productsFetchSuccess, productsFetchError, productsDeleteOneSuccess, productsDeleteOneError, productsAddError, productsAddSuccess, productsUpdateSuccess, productsUpdateError } from \"../actions/products\";\n\nfunction getProducts(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function getProducts$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return call(ProductsService.getProductsQuery);\n\n        case 3:\n          data = _context.sent;\n          _context.next = 6;\n          return put(productsFetchSuccess({\n            products: data.data.products\n          }));\n\n        case 6:\n          _context.next = 13;\n          break;\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          _context.next = 12;\n          return put(productsFetchError(_context.t0));\n\n        case 12:\n          console.log(_context.t0);\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 8]]);\n}\n\nexport function saga() {\n  return _regeneratorRuntime.wrap(function saga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return all([takeLatest(actionTypes.PRODUCTS_FETCH_START, getProducts)]);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction deleteOneProduct(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function deleteOneProduct$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return call(ProductsService.deleteProductQuery, action.payload);\n\n        case 3:\n          data = _context3.sent;\n\n          if (!(data.status == \"200\")) {\n            _context3.next = 7;\n            break;\n          }\n\n          _context3.next = 7;\n          return put(productsDeleteOneSuccess({\n            deletedProductId: action.payload\n          }));\n\n        case 7:\n          _context3.next = 14;\n          break;\n\n        case 9:\n          _context3.prev = 9;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 13;\n          return put(productsDeleteOneError(_context3.t0));\n\n        case 13:\n          console.log(_context3.t0);\n\n        case 14:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 9]]);\n}\n\nexport function deleteOne() {\n  return _regeneratorRuntime.wrap(function deleteOne$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return all([takeLatest(actionTypes.PRODUCTS_DETELE_ONE, deleteOneProduct)]);\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction addProduct(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function addProduct$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return call(ProductsService.addProductQuery, action.payload);\n\n        case 3:\n          data = _context5.sent;\n\n          if (!(data.status == \"200\")) {\n            _context5.next = 7;\n            break;\n          }\n\n          _context5.next = 7;\n          return put(productsAddSuccess(data.data.data.addProduct));\n\n        case 7:\n          _context5.next = 14;\n          break;\n\n        case 9:\n          _context5.prev = 9;\n          _context5.t0 = _context5[\"catch\"](0);\n          _context5.next = 13;\n          return put(productsAddError(_context5.t0));\n\n        case 13:\n          console.log(_context5.t0);\n\n        case 14:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, null, [[0, 9]]);\n}\n\nexport function addNewProduct() {\n  return _regeneratorRuntime.wrap(function addNewProduct$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return all([takeLatest(actionTypes.PRODUCTS_ADD, addProduct)]);\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6);\n}\n\nfunction updateProduct(action) {\n  var data;\n  return _regeneratorRuntime.wrap(function updateProduct$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          _context7.next = 3;\n          return call(ProductsService.updatePoductQuery, action.payload);\n\n        case 3:\n          data = _context7.sent;\n          console.log(data);\n\n          if (!(data.status == \"200\")) {\n            _context7.next = 8;\n            break;\n          }\n\n          _context7.next = 8;\n          return put(productsUpdateSuccess(data.data.data.updateProduct));\n\n        case 8:\n          _context7.next = 15;\n          break;\n\n        case 10:\n          _context7.prev = 10;\n          _context7.t0 = _context7[\"catch\"](0);\n          _context7.next = 14;\n          return put(productsUpdateError(_context7.t0));\n\n        case 14:\n          console.log(_context7.t0);\n\n        case 15:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, null, [[0, 10]]);\n}\n\nexport function updateOneProduct() {\n  return _regeneratorRuntime.wrap(function updateOneProduct$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return all([takeLatest(actionTypes.PRODUCTS_UPDATE, updateProduct)]);\n\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n}","map":{"version":3,"sources":["C:/Users/lu4ok/Desktop/Practice/DZ/nextjs-app/redux/sagas/products.js"],"names":["getProducts","saga","deleteOneProduct","deleteOne","addProduct","addNewProduct","updateProduct","updateOneProduct","ProductsService","call","put","takeEvery","select","all","take","takeLatest","actionTypes","productsFetchSuccess","productsFetchError","productsDeleteOneSuccess","productsDeleteOneError","productsAddError","productsAddSuccess","productsUpdateSuccess","productsUpdateError","action","getProductsQuery","data","products","console","log","PRODUCTS_FETCH_START","deleteProductQuery","payload","status","deletedProductId","PRODUCTS_DETELE_ONE","addProductQuery","PRODUCTS_ADD","updatePoductQuery","PRODUCTS_UPDATE"],"mappings":"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","sourcesContent":["import ProductsService from \"../../services/products\";\r\nimport {\r\n  call,\r\n  put,\r\n  takeEvery,\r\n  select,\r\n  all,\r\n  take,\r\n  takeLatest,\r\n} from \"redux-saga/effects\";\r\nimport actionTypes from \"../constants\";\r\nimport {\r\n  productsFetchSuccess,\r\n  productsFetchError,\r\n  productsDeleteOneSuccess,\r\n  productsDeleteOneError,\r\n  productsAddError,\r\n  productsAddSuccess,\r\n  productsUpdateSuccess,\r\n  productsUpdateError,\r\n} from \"../actions/products\";\r\n\r\nfunction* getProducts(action) {\r\n  try {\r\n    const data = yield call(ProductsService.getProductsQuery);\r\n    yield put(productsFetchSuccess({ products: data.data.products }));\r\n  } catch (error) {\r\n    yield put(productsFetchError(error));\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport function* saga() {\r\n  yield all([takeLatest(actionTypes.PRODUCTS_FETCH_START, getProducts)]);\r\n}\r\n\r\nfunction* deleteOneProduct(action) {\r\n  try {\r\n    const data = yield call(ProductsService.deleteProductQuery, action.payload);\r\n    if (data.status == \"200\") {\r\n      yield put(productsDeleteOneSuccess({ deletedProductId: action.payload }));\r\n    }\r\n  } catch (error) {\r\n    yield put(productsDeleteOneError(error));\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport function* deleteOne() {\r\n  yield all([takeLatest(actionTypes.PRODUCTS_DETELE_ONE, deleteOneProduct)]);\r\n}\r\n\r\nfunction* addProduct(action) {\r\n  try {\r\n    const data = yield call(ProductsService.addProductQuery, action.payload);\r\n\r\n    if (data.status == \"200\") {\r\n      yield put(productsAddSuccess(data.data.data.addProduct));\r\n    }\r\n  } catch (error) {\r\n    yield put(productsAddError(error));\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport function* addNewProduct() {\r\n  yield all([takeLatest(actionTypes.PRODUCTS_ADD, addProduct)]);\r\n}\r\n\r\nfunction* updateProduct(action) {\r\n  try {\r\n    const data = yield call(ProductsService.updatePoductQuery, action.payload);\r\n    console.log(data);\r\n    if (data.status == \"200\") {\r\n      yield put(productsUpdateSuccess(data.data.data.updateProduct));\r\n    }\r\n  } catch (error) {\r\n    yield put(productsUpdateError(error));\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport function* updateOneProduct() {\r\n  yield all([takeLatest(actionTypes.PRODUCTS_UPDATE, updateProduct)]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}